server {
    listen 80;

    server_name localhost;

    # Frontend at /vote
    location /vote/ {
        proxy_pass http://voting-frontend:8080/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # Result at /result
    location /result/ {
        proxy_pass http://voting-result:8081/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # Optional: root redirect to /vote
    location / {
        return 302 /vote/;
    }
}
